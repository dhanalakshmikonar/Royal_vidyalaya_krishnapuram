<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Royal Vidyalaya</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo">Royal Vidyalaya</div>
    <nav>
      <ul class="nav-links">
        <li><a href="#home" class="nav-link">Home</a></li>
        <li><a href="#about" class="nav-link">About Us</a></li>
        <li><a href="#Event" class="nav-link">Event</a></li>
        <li><a href="#gallery" class="nav-link">Gallery</a></li>
        <li><a href="#Academics" class="nav-link">Academics</a></li>
        <li><a href="#Notice" class="nav-link">Notice</a></li>
        <li><a href="#contact" class="nav-link">Contact Us</a></li>
      </ul>
    </nav>
  </header>

  <section id="home" class="full-screen">
    <div class="home-content">
      <h1>Welcome to Royal Vidyalaya</h1>
      <p>Where learning meets excellence</p>
      <a href="#about" class="btn">Learn More</a>
    </div>
  </section>


  <section id="about" class="about-section">
  <div class="about-box">
    <h2>About Us</h2>
    <p>Royal Vidyalaya is a premier CBSE-affiliated institution dedicated to nurturing future leaders. We provide a strong academic foundation while fostering values, creativity, and independent thinking.</p>
    <p>Our aim is to promote all-round development‚Äîintellectual, physical, emotional, and social‚Äîby offering co-curricular and extracurricular programs that enrich each student‚Äôs school experience.</p>
    <p>We take pride in preserving our rich cultural heritage by instilling moral values and respect for traditions, preparing students to thrive in a global society with strong roots and a forward-looking mindset.</p>
  </div>
</section>

<link rel="stylesheet" href="mission-vision.css">
<div class="mv-toggle-buttons">
  <button id="btn-mission">Mission</button>
  <button id="btn-vision">Vision</button>
</div>

<div class="mv-wrapper">
  <div class="mv-slide mv-mission active">
    <center>
    <h2>Mission</h2>
    <p>
      ‚ÄúLearn To Lead‚Äù is the motto of this educational institution which provides the wholesome education. Our curriculum is specially designed to give them a chance to discover and develop their talents and express them through multidisciplinary works. Every individual child will be able to lead the nation through our education.
    </p>
    </center>
  </div>

  <div class="mv-slide mv-vision">
    <center>
    <h2>Our Vision</h2>
    <p>
      Our vision is to shape the creative people of tomorrow‚Äôs world with rich values and culture blended with good academics. We hope our children face life‚Äôs challenges and build a successful life of their own
    </p>
    </center>
  </div>
</div>

<script src="mission-vision.js"></script>

<link rel="stylesheet"href="event.css">
 <section class="yoga-section"id="Event" >
    <h1>Events at Royal Vidyalaya</h1>
    <h3>Yoga Day Celebration at Royal Vidyalaya</h3>
    <p class="description">
     "Royal Vidyalaya celebrated International Yoga Day with great spirit and unity. Students and staff actively participated in a series of yoga sessions, promoting physical well-being, mental peace, and mindfulness. The event emphasized the importance of incorporating yoga into daily life for a healthier and balanced lifestyle."
    </p>

    <div class="gallery">
      <div class="img-box"><img src="images/yoga1.jpg" alt="Yoga Day 1" /></div>
      <div class="img-box"><img src="images/yoga2.jpg" alt="Yoga Day 2" /></div>
      <div class="img-box"><img src="images/yoga3.jpg" alt="Yoga Day 3" /></div>
      <div class="img-box"><img src="images/yoga4.jpg" alt="Yoga Day 4" /></div>
    </div>
  </section>

  <script src="event.js"></script>




  <section class="gallery-section" id="gallery">
    <h2>Our School Gallery</h2>
    <p>Moments of learning, joy, and creativity at Royal Vidyalaya</p>
    
    <div class="gallery-grid">
      <div class="gallery-item"><img src="images/school1.jpg" alt="Event 1" /></div>
      <div class="gallery-item"><img src="images/school2.jpg" alt="Event 2" /></div>
      <div class="gallery-item"><img src="images/school3.jpg" alt="Event 3" /></div>
      <div class="gallery-item"><img src="images/school4.jpg" alt="Event 4" /></div>
      <div class="gallery-item"><img src="images/schhol5.jpg" alt="Event 5" /></div>
      <div class="gallery-item"><img src="images/school6.jpg" alt="Event 6" /></div>
    </div>
  </section>

  <section class="academics-section" id="Academics">
    <h2>Academics</h2>
    <p class="intro">Our academic programs are designed to provide all-round development and prepare students for a bright future.</p>

    <div class="academic-card" onclick="toggleContent(this)">
      <h3>Primary School (Class I - V)</h3>
      <div class="academic-content">
        <p>Focus on foundational learning through interactive methods and continuous evaluation. Subjects include English, Math, EVS, Hindi, and Art.</p>
      </div>
    </div>

    <div class="academic-card" onclick="toggleContent(this)">
      <h3>Middle School (Class VI - VIII)</h3>
      <div class="academic-content">
        <p>Development of analytical skills and introduction to subject specialization. Subjects include Science, Social Science, Computer, and Languages.</p>
      </div>
    </div>

    <div class="academic-card" onclick="toggleContent(this)">
      <h3>Secondary School (Class IX - X)</h3>
      <div class="academic-content">
        <p>CBSE-based curriculum with focus on board exam preparation, project work, and career guidance.</p>
      </div>
    </div>

    <div class="academic-card" onclick="toggleContent(this)">
      <h3>Senior Secondary (Class XI - XII)</h3>
      <div class="academic-content">
        <p>Streams offered: Science (PCM/PCB), Commerce, and Humanities. Emphasis on career readiness and practical learning.</p>
      </div>
    </div>
  </section>

  

  <section id="Notice" class="card">
      <center><h2>Notice Board</h2></center>
      <ul>
        <li>üìå School reopens on 17th June.</li>
        <li>üìå Parent-teacher meeting on 22nd June.</li>
        <li>üìå Science Exhibition on 28th June.</li>
      </ul>
    </section>

    <section id="events" class="card">
      <h2>Upcoming Events</h2>
      <table>
        <thead>
          <tr><th>Date</th><th>Event</th></tr>
        </thead>
        <tbody>
          <tr><td>17 Jun</td><td>School Reopening</td></tr>
          <tr><td>22 Jun</td><td>PTM (Grades 1‚Äì10)</td></tr>
          <tr><td>28 Jun</td><td>Science Exhibition</td></tr>
          <tr><td>7 July</td><td>Guru Purnima</td></tr>
        </tbody>
      </table>
    </section>

    <section id="admissions" class="card">
      <h2>Admission Types</h2>
      <ul>
        <li>üßí Kindergarten</li>
        <li>üìò Primary School (Grades 1‚Äì5)</li>
        <li>üìó Middle School (Grades 6‚Äì8)</li>
        <li>üìô High School (Grades 9‚Äì12)</li>
      </ul>
    </section>
  </main>

  <script src="trial.js"></script>

    <section class="contact-section" id="contact">
    <div class="contact-container">
      <h2>Contact Us</h2>
      <p>We'd love to hear from you. Please fill out the form below.</p>
      <form id="contactForm">
        <div class="form-group">
          <label for="name">Full Name</label>
          <input type="text" id="name" name="name" placeholder="Your Name" required />
          <span class="error-message" id="nameError"></span>
        </div>
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" placeholder="Your Email" required />
          <span class="error-message" id="emailError"></span>
        </div>
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="phone" placeholder="Your Phone Number" required />
          <span class="error-message" id="phoneError"></span>
        </div>
        <div class="form-group">
          <label for="message">Your Message</label>
          <textarea id="message" name="message" placeholder="Type your message here..." rows="5" required></textarea>
          <span class="error-message" id="messageError"></span>
        </div>
        <button type="submit" class="submit-button">Send Message</button>
      </form>
      <div class="form-response" id="formResponse"></div>
    </div>
  </section>

<center>
  <section>
    <h2>Know more</h2>
    <p>We‚Äôd love to hear from you. Reach out for any queries.</p>
    <p><strong>Address:</strong> 5th street, Krishnapuram, India, Tamil Nadu</p>
    <p><strong>Phone:</strong> +91 99522 10399</p>
    <p><strong>Landline:</strong> 0462 - 2910399</p>
    <p><strong>Email:</strong> royalschs@gmail.com</p>

    <!-- ‚úÖ Inline SVG Icons -->
    <div class="social-links">
        <!-- Facebook Attractive Icon -->
<a href="https://www.facebook.com/share/1ArMgFn4MB/" target="_blank" aria-label="Facebook">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 512 512">
    <circle cx="256" cy="256" r="256" fill="#1877f2"/>
    <path d="M353.3 330.7l11.7-76.1h-73.4v-49.4c0-20.8 10.2-41.1 42.9-41.1h33.2v-64.9s-30.2-5.2-59.1-5.2c-60.3 0-99.8 36.5-99.8 102.6v58h-67v76.1h67v183.7c13.4 2.1 27.1 3.2 41 3.2s27.6-1.1 41-3.2V330.7h61.5z" fill="#fff"/>
  </svg>
</a>


      <!-- YouTube -->
      <a href="https://youtube.com/@royalschooltirunelveli2074?si=UAitolGCdxCf6fQh" target="_blank" aria-label="YouTube">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="#FF0000" viewBox="0 0 24 24" width="30" height="30">
          <path d="M23.498 6.186a2.999 2.999 0 0 0-2.112-2.121C19.766 3.5 12 3.5 12 3.5s-7.766 0-9.386.565A3 3 0 0 0 .502 6.186 31.716 31.716 0 0 0 0 12a31.716 31.716 0 0 0 .502 5.814 2.999 2.999 0 0 0 2.112 2.121C4.234 20.5 12 20.5 12 20.5s7.766 0 9.386-.565a2.999 2.999 0 0 0 2.112-2.121A31.716 31.716 0 0 0 24 12a31.716 31.716 0 0 0-.502-5.814zM9.75 15.02V8.98l6.25 3.02-6.25 3.02z"/>
        </svg>
      </a>
    </div>
  </section>
</center>

          

  <footer>
    <p>&copy; 2025 Royal Vidyalaya. All rights reserved.</p>
  </footer>

    <style>
        /* COMPACT ROYAL SCHOOL WIDGET */
        .royal-widget {
            position: fixed;
            bottom: 15px;
            right: 15px;
            z-index: 9999;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .widget-btn {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 3px 15px rgba(102, 126, 234, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .widget-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.5);
        }
        
        .notification {
            position: absolute;
            top: -2px;
            right: -2px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 9px;
            display: none;
            align-items: center;
            justify-content: center;
            animation: bounce 0.6s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .widget-chat {
            position: absolute;
            bottom: 60px;
            right: 0;
            width: 280px;
            height: 360px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.15);
            transform: scale(0.8) translateY(15px);
            opacity: 0;
            transition: all 0.25s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            overflow: hidden;
            display: none;
            flex-direction: column;
        }
        
        .widget-chat.show {
            transform: scale(1) translateY(0);
            opacity: 1;
            display: flex;
        }
        
        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            position: relative;
        }
        
        .header-title {
            font-size: 13px;
            font-weight: 600;
            margin: 0 0 1px 0;
        }
        
        .header-subtitle {
            font-size: 10px;
            opacity: 0.9;
            margin: 0;
        }
        
        .header-actions {
            position: absolute;
            top: 8px;
            right: 8px;
            display: flex;
            gap: 4px;
        }
        
        .header-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        
        .header-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .quick-actions {
            padding: 8px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .actions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
        }
        
        .quick-btn {
            padding: 6px 4px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 9px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-weight: 500;
        }
        
        .quick-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .chat-body {
            flex: 1;
            padding: 8px;
            overflow-y: auto;
            background: #f8f9fa;
        }
        
        .message {
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .msg-bubble {
            max-width: 80%;
            padding: 6px 10px;
            border-radius: 10px;
            font-size: 11px;
            line-height: 1.3;
        }
        
        .message.bot .msg-bubble {
            background: white;
            color: #333;
            border: 1px solid #e9ecef;
            margin-right: 4px;
        }
        
        .message.user .msg-bubble {
            background: #667eea;
            color: white;
            margin-left: 4px;
        }
        
        .avatar {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            flex-shrink: 0;
        }
        
        .bot-avatar {
            background: #667eea;
            color: white;
        }
        
        .user-avatar {
            background: #28a745;
            color: white;
        }
        
        .typing {
            display: none;
            padding: 4px 8px;
            background: white;
            border-radius: 10px;
            margin-left: 24px;
            border: 1px solid #e9ecef;
            width: fit-content;
        }
        
        .typing-dots {
            display: flex;
            gap: 2px;
        }
        
        .dot {
            width: 3px;
            height: 3px;
            background: #999;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .dot:nth-child(2) { animation-delay: 0.2s; }
        .dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-3px); }
        }
        
        .chat-input {
            padding: 8px;
            background: white;
            border-top: 1px solid #e9ecef;
        }
        
        .input-box {
            display: flex;
            gap: 6px;
            align-items: flex-end;
        }
        
        .input-field {
            flex: 1;
            padding: 6px 10px;
            border: 1px solid #ddd;
            border-radius: 15px;
            outline: none;
            font-size: 11px;
            resize: none;
            max-height: 40px;
            font-family: inherit;
        }
        
        .input-field:focus {
            border-color: #667eea;
        }
        
        .send-btn {
            width: 28px;
            height: 28px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        
        .send-btn:hover:not(:disabled) {
            background: #5a67d8;
        }
        
        .send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .empty-chat {
            display: none;
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 11px;
        }
        
        /* Mobile responsive */
        @media (max-width: 480px) {
            .widget-chat {
                width: calc(100vw - 25px);
                height: calc(100vh - 80px);
                right: -5px;
                bottom: 65px;
            }
            
            .royal-widget {
                right: 12px;
                bottom: 12px;
            }
        }
    </style>
</head>
<body style="margin: 0; height: 100vh; background: #f0f2f5; font-family: Arial, sans-serif;">
    
    <!-- COMPACT ROYAL SCHOOL WIDGET -->
    <div class="royal-widget">
        <button class="widget-btn" onclick="toggleChat()">
            üëë
            <div class="notification" id="notification">1</div>
        </button>
        
        <div class="widget-chat" id="widgetChat">
            <div class="chat-header">
                <div class="header-actions">
                    <button class="header-btn" onclick="clearChat()" title="Clear Chat">üóëÔ∏è</button>
                    <button class="header-btn" onclick="closeChat()" title="Close">√ó</button>
                </div>
                <h3 class="header-title">üëë Royal School</h3>
                <p class="header-subtitle">How can we help?</p>
            </div>
            
            <div class="quick-actions" id="quickActions">
                <div class="actions-grid">
                    <button class="quick-btn" onclick="ask('Admissions')">üìù Admissions</button>
                    <button class="quick-btn" onclick="ask('Programs')">üìö Programs</button>
                    <button class="quick-btn" onclick="ask('Fees')">üí∞ Fees</button>
                    <button class="quick-btn" onclick="ask('Contact Information')">üìû Contact Information</button>
                    <button class="quick-btn" onclick="ask('School Hours')">üïí School Hours</button>
                    <button class="quick-btn" onclick="ask('Location')">üìç Location & Directions</button>
                </div>
            </div>
            
            <div class="chat-body" id="chatBody">
                <div class="message bot">
                    <div class="avatar bot-avatar">ü§ñ</div>
                    <div class="msg-bubble">
                        Hi! I'm here to help with Royal School info. What would you like to know?
                    </div>
                </div>
            </div>
            
            <div class="empty-chat" id="emptyChat">
                <div style="font-size: 24px; margin-bottom: 8px;">üí¨</div>
                <div>No messages yet.<br>Start a conversation!</div>
            </div>
            
            <div class="typing" id="typing">
                <div class="typing-dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
            
            <div class="chat-input">
                <div class="input-box">
                    <textarea 
                        class="input-field" 
                        id="messageInput" 
                        placeholder="Ask about admissions, fees..."
                        rows="1"
                        onkeydown="handleEnter(event)"
                    ></textarea>
                    <button class="send-btn" onclick="sendMessage()">‚û§</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isOpen = false;
        let messageCount = 0;
        
        // School knowledge base
        const responses = {
            admissions: "üìù ADMISSIONS:\n‚Ä¢ Deadline: March 15th\n‚Ä¢ Documents: Birth cert, records\n‚Ä¢ Entrance exam grades 6-12\n‚Ä¢ Fee: ‚Çπ500\n‚Ä¢ Call: 085319 63687",
            programs: "üìö PROGRAMS:\n‚Ä¢ Elementary (K-5): Core + Arts\n‚Ä¢ Middle (6-8): Advanced Math/Science\n‚Ä¢ High School (9-12): AP, STEM\n‚Ä¢ Ratio: 15:1",
            fees: "üí∞ FEES:\n‚Ä¢ Elementary: ‚Çπ80,500\n‚Ä¢ Middle: ‚Çπ100,200\n‚Ä¢ High School: ‚Çπ180,800\n‚Ä¢ Books: ‚Çπ3000, Uniforms: ‚Çπ2000\n‚Ä¢ Financial aid available",
            "contact information": "üìû CONTACT INFORMATION:\n‚Ä¢ Landline:  0462 - 2910399\n‚Ä¢ Admissions: +91 99522 10399\n‚Ä¢ Principal:  +91 99522 10399\n‚Ä¢ Email: royalschs@gmail.com\n‚Ä¢ Website: www.royalschool.edu\n‚Ä¢ WhatsApp: +91 99522 10399",
            contact: "üìû CONTACT INFORMATION:\n‚Ä¢  Landline:  0462 - 2910399\n‚Ä¢ Admissions: 085319 63687\n‚Ä¢ Principal: 085319 63688\n‚Ä¢ Email: info@royalschool.edu\n‚Ä¢ Website: www.royalschool.edu\n‚Ä¢ WhatsApp: +91 99522 10399",
            "school hours": "üïí SCHOOL HOURS:\n‚Ä¢ Elementary (K-5): 9:15 AM - 3:00 PM\n‚Ä¢ Middle School (6-8): 8:45 AM - 3:45 PM\n‚Ä¢ High School (9-12): 8:45 AM - 4:15 PM\n‚Ä¢ Office Hours: 7:30 AM - 4:30 PM\n‚Ä¢ Saturday: 8:00 AM - 12:00 PM\n‚Ä¢ Closed Sundays",
            hours: "üïí SCHOOL HOURS:\n‚Ä¢ Elementary (K-5): 9:15 AM - 3:00 PM\n‚Ä¢ Middle School (6-8): 8:45 AM - 3:45 PM\n‚Ä¢ High School (9-12): 8:45 AM - 4:15 PM\n‚Ä¢ Office Hours: 7:30 AM - 4:30 PM\n‚Ä¢ Saturday: 8:00 AM - 12:00 PM\n‚Ä¢ Closed Sundays",
            location: "üìç LOCATION & DIRECTIONS:\n‚Ä¢ Address: 5/86 G, 5th Street\n  Kothanagar, Krishnapuram 627011\n‚Ä¢ Near: Krishnapuram Bus Stand\n‚Ä¢ Landmarks: Next to City Bank\n‚Ä¢ Parking: Available on campus\n‚Ä¢ Bus Routes: 15, 22, 45\n‚Ä¢ Auto Stand: 200m from gate",
            directions: "üìç LOCATION & DIRECTIONS:\n‚Ä¢ Address: 5/86 G, 5th Street\n  Kothanagar, Krishnapuram 627011\n‚Ä¢ Near: Krishnapuram Bus Stand\n‚Ä¢ Landmarks: Next to City Bank\n‚Ä¢ Parking: Available on campus\n‚Ä¢ Bus Routes: 15, 22, 45\n‚Ä¢ Auto Stand: 200m from gate",
            calendar: "üìÖ DATES:\n‚Ä¢ First Day: Aug 28\n‚Ä¢ Fall Break: Oct 14-18\n‚Ä¢ Winter Break: Dec 23 - Jan 8\n‚Ä¢ Spring Break: Mar 24-28\n‚Ä¢ Last Day: June 6"
        };

        function toggleChat() {
            const chat = document.getElementById('widgetChat');
            const notification = document.getElementById('notification');
            
            isOpen = !isOpen;
            
            if (isOpen) {
                chat.classList.add('show');
                notification.style.display = 'none';
                document.getElementById('messageInput').focus();
            } else {
                chat.classList.remove('show');
            }
        }

        function closeChat() {
            document.getElementById('widgetChat').classList.remove('show');
            isOpen = false;
        }

        function clearChat() {
            const chatBody = document.getElementById('chatBody');
            const emptyChat = document.getElementById('emptyChat');
            const quickActions = document.getElementById('quickActions');
            
            // Clear all messages
            chatBody.innerHTML = '';
            messageCount = 0;
            
            // Show empty state
            chatBody.style.display = 'none';
            emptyChat.style.display = 'block';
            quickActions.style.display = 'block';
            
            // Reset to initial state after a moment
            setTimeout(() => {
                chatBody.style.display = 'block';
                emptyChat.style.display = 'none';
                
                // Add welcome message back
                addMessage("Hi! I'm here to help with Royal School info. What would you like to know?", false, true);
            }, 800);
        }

        function addMessage(text, isUser = false, isWelcome = false) {
            const chatBody = document.getElementById('chatBody');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            messageDiv.innerHTML = `
                <div class="avatar ${isUser ? 'user-avatar' : 'bot-avatar'}">
                    ${isUser ? 'üë§' : 'ü§ñ'}
                </div>
                <div class="msg-bubble">${text.replace(/\n/g, '<br>')}</div>
            `;
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            
            if (!isWelcome) {
                messageCount++;
            }
        }

        function showTyping() {
            document.getElementById('typing').style.display = 'block';
            document.getElementById('chatBody').scrollTop = document.getElementById('chatBody').scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typing').style.display = 'none';
        }

        function getResponse(query) {
            const q = query.toLowerCase();
            
            for (const [key, response] of Object.entries(responses)) {
                if (q.includes(key) || q.includes(key.slice(0, -1))) {
                    return response;
                }
            }
            
            return "Thanks for your question! For detailed info, call 085319 63686 or email info@royalschool.edu. Office hours: 7:30 AM - 4:00 PM.";
        }

        function ask(topic) {
            document.getElementById('quickActions').style.display = 'none';
            addMessage(topic, true);
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                addMessage(getResponse(topic));
            }, 500 + Math.random() * 600);
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            document.getElementById('quickActions').style.display = 'none';
            addMessage(message, true);
            input.value = '';
            input.style.height = 'auto';
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                addMessage(getResponse(message));
            }, 500 + Math.random() * 600);
        }

        function handleEnter(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }

        // Auto-resize textarea
        document.getElementById('messageInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 40) + 'px';
        });

        // Show notification after 3 seconds
        setTimeout(() => {
            if (!isOpen) {
                document.getElementById('notification').style.display = 'flex';
            }
        }, 3000);

        // Close on outside click
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.royal-widget') && isOpen) {
                closeChat();
            }
        });
    </script>
</body>
</html>
</html>
